tosca_definitions_version: tosca_simple_yaml_1_0_0_wd03
description: A simple topology with a Mesos master standalone on a docker container
template_name: mesos-master-SA-docker
template_version: 1.0.0-SNAPSHOT
template_author: AFE

imports:
  - docker-provider-types:*
  - mesos-types:0.2.0-SNAPSHOT

topology_template:

  node_templates:

    container:
      type: com.toscaruntime.docker.nodes.Container
      properties:
        image_id: toscaruntime/ubuntu-trusty
      capabilities:
        os:
          properties:
            distribution: ubuntu
            version: 14.04

    base:
      type: alien.nodes.MesosBase
      properties:
        version: 0.27.2-2.0.15
      requirements:
        - host: container

    master:
      type: alien.nodes.MesosMaster
      properties:
        cluster_name: "Simple TOSCA Mesos SA topology"
      requirements:
        - host: base

  outputs:
    mesos_url:
      description: The URL to access Mesos
      value: { get_attribute: [master, master_url] }
